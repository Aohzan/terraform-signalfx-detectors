documentations:
  - name: Smart Agent monitor
    url: 'https://docs.signalfx.com/en/latest/integrations/agent/monitors/jmx.html'

source_doc: |

  This detectors requires a groovy script to get the metrics `cassandra.status` and `cassandra.state`. The script can be found in the `scripts` folder of this module.
  `cassandra.status` and `cassandra.state` are metrics that track the state of the node in the cluster. The nodetool status command returns the equivalent information.

  For example:
  ```
  nodetool status mykeyspace

  Datacenter: datacenter1
  =======================
  Status=Up/Down
  |/ State=Normal/Leaving/Joining/Moving
  --  Address    Load       Tokens  Owns    Host ID                               Rack
  UN  127.0.0.1  47.66 KB   1       33.3%   aaa1b7c1-6049-4a08-ad3e-3697a0e30e10  rack1
  UN  127.0.0.2  47.67 KB   1       33.3%   1848c369-4306-4874-afdf-5c1e95b8732e  rack1
  UN  127.0.0.3  47.67 KB   1       33.3%   49578bf1-728f-438d-b1c1-d8dd644b6f7f  rack1
  ```

  ### Monitor configuration example:
  ```
  - type: jmx
    host: localhost
    port: 7199
    groovyScript: {"#from": "/etc/signalfx/cassandra.groovy", raw: true}
  ```

notes : |
  - cassandra.status: 1 == Live, 0 == Dead, -1 == Unknown
  - cassandra.state: 1 == Normal, 2 == Leave, 3 == Join
