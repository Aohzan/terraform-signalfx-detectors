documentations:
  - name: Smart Agent monitor
    url: 'https://docs.signalfx.com/en/latest/integrations/agent/monitors/nagios.html'
  - name: Nagios checks guidelines
    url: 'https://nagios-plugins.org/doc/guidelines.html#AEN78'

source_doc: |

  ### Monitors

  You have to configure your existing Nagios script into the `nagios` monitor.
  This will require agent >= [5.7.1](https://github.com/signalfx/signalfx-agent/releases/tag/v5.7.1)
  
  You can configure as many monitors as you have nagios checks to reuse but you have to define for each 
  it could be useful to adapt the `intervalSeconds` for each script.

  ### Examples

  ```yaml
  - type: nagios
  intervalSeconds: 180
  command: /usr/lib/nagios/plugins/check_ntp_time -H pool.ntp.typhon.net -w 0.5 -c 1
  service: NTP_TIME
  extraDimensions:
    sfx_monitored: true

  - type: nagios
  intervalSeconds: 180
  command: /usr/lib/nagios/plugins/check_http -I google.fr -f sticky -H google.fr -s http -u / -p 80
  service: HTT_google
  extraDimensions:
    sfx_monitored: true

  ```

notes: |
  This module has been designed to alert with the same behavior as 
  [Nagios](https://nagios-plugins.org/doc/guidelines.html#AEN78), basically a gauge equal to 1, 2 and 3 
  respectively triggering `WARNING`, `CRITICAL` and `UNKNOWN` alert.

  While SignalFx does not provide `Unknown` severity this module uses the `Major` severity for unknown alerts.

  The metric is named `nagios.state`.
